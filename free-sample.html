<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Overpriced Cards (Free) | CardLord</title>
    <meta name="description" content="Free eBay price checker for trading cards. Paste your items, see which are overpriced vs market. No signup required.">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            line-height: 1.6;
            min-height: 100vh;
        }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px; }
        header { text-align: center; padding: 40px 0; }
        .emoji { font-size: 48px; margin-bottom: 16px; }
        h1 { font-size: 36px; font-weight: 800; margin-bottom: 12px; }
        .tagline { font-size: 18px; color: #a0a0a0; max-width: 600px; margin: 0 auto; }

        /* Navigation */
        nav { text-align: center; padding: 20px 0; margin-bottom: 20px; }
        nav a { color: #a0a0a0; text-decoration: none; font-weight: 500; padding: 8px 16px; border-radius: 6px; border: 1px solid rgba(255,255,255,0.1); margin: 0 5px; }
        nav a:hover { color: #4ecca3; border-color: #4ecca3; }

        .tool-box {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(255,255,255,0.1);
        }

        textarea {
            width: 100%;
            min-height: 150px;
            padding: 16px;
            font-size: 15px;
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-family: monospace;
            resize: vertical;
        }
        textarea:focus { outline: none; border-color: #4ecca3; }
        textarea::placeholder { color: #666; }

        .analyze-btn {
            width: 100%;
            padding: 18px;
            font-size: 18px;
            font-weight: 600;
            background: #4ecca3;
            color: #1a1a2e;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }
        .analyze-btn:hover { background: #3db892; transform: translateY(-2px); }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        .loading.active { display: block; }
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(78, 204, 163, 0.3);
            border-top-color: #4ecca3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        .results { display: none; }
        .results.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } }

        .alert-box {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(255, 107, 107, 0.05));
            border: 1px solid rgba(255, 107, 107, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            text-align: center;
        }
        .alert-amount { font-size: 48px; font-weight: 800; color: #ffd93d; }
        .alert-label { font-size: 16px; color: #a0a0a0; margin-top: 5px; }
        .alert-items { color: #ff6b6b; margin-top: 10px; }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }
        .stat-item { text-align: center; }
        .stat-number { font-size: 32px; font-weight: 700; color: #4ecca3; }
        .stat-label { font-size: 13px; color: #888; margin-top: 5px; }

        .card-result {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #ff6b6b;
            transition: all 0.3s;
        }
        .card-result:hover { transform: translateX(5px); }
        .card-result.hold { border-left-color: #4ecca3; }
        .card-title { font-weight: 600; margin-bottom: 15px; font-size: 16px; }
        .price-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 15px 0;
        }
        .price-item {
            background: rgba(0,0,0,0.2);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
        }
        .price-label { font-size: 12px; color: #888; margin-bottom: 4px; }
        .price-value { font-size: 18px; font-weight: 600; }
        .price-current { color: #ff6b6b; }
        .price-market { color: #4ecca3; }
        .price-target { color: #ffd93d; }

        .action-badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }
        .action-lower { background: rgba(255, 107, 107, 0.2); color: #ff6b6b; }
        .action-hold { background: rgba(78, 204, 163, 0.2); color: #4ecca3; }

        .cta-section {
            background: linear-gradient(135deg, rgba(78, 204, 163, 0.1), rgba(78, 204, 163, 0.05));
            border-radius: 16px;
            padding: 40px;
            margin-top: 40px;
            text-align: center;
            border: 2px solid rgba(78, 204, 163, 0.3);
        }
        .cta-section h2 { font-size: 28px; margin-bottom: 15px; }
        .cta-section p { color: #a0a0a0; margin-bottom: 25px; font-size: 16px; }

        .email-form { display: flex; gap: 10px; max-width: 500px; margin: 25px auto; }
        .email-form input {
            flex: 1;
            padding: 16px 20px;
            font-size: 16px;
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
        }
        .email-form button {
            padding: 16px 30px;
            font-size: 16px;
            font-weight: 600;
            background: #ff6b6b;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .email-form button:hover { background: #e55a5a; }

        .example-box {
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 3px solid #4ecca3;
        }
        .example-box code { color: #4ecca3; font-size: 13px; }
        .example-box strong { color: #4ecca3; }

        footer {
            text-align: center;
            padding: 40px 0;
            color: #606060;
            font-size: 14px;
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 30px;
            color: #888;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav>
            <a href="/cardlord/">‚Üê Home</a>
            <a href="blog/">üìö Blog</a>
            <a href="free-sample.html">üßÆ Calculator</a>
        </nav>

        <header>
            <div class="emoji">üÉè</div>
            <h1>Find Overpriced Cards (Free)</h1>
            <p class="tagline">Paste 3-5 item titles and prices from your eBay store. We'll show you which are overpriced vs. market.</p>
        </header>

        <div class="tool-box" id="inputSection">
            <p style="margin-bottom: 10px; color: #a0a0a0;">Copy from eBay Seller Hub and paste below:</p>
            
            <textarea id="itemInput" placeholder="Jack OP01-102 PSA 10, $149.99
Gecko Moria OP06-086 PSA 10, $146.96
Charizard VMAX Shining Fates, $185.00
Kyros OP04-082 PSA 10, $89.96">Jack OP01-102 PSA 10, $149.99
Gecko Moria OP06-086 PSA 10, $146.96
Charizard VMAX Shining Fates, $185.00
Kyros OP04-082 PSA 10, $89.96
Kid OP05-074 Alt Art, $57.96</textarea>
            
            <div class="example-box">
                <strong>Format:</strong> <code>Card Name [PSA Grade if graded], $Price</code><br>
                Works with: <code>Jack OP01-102 PSA 10, $149.99</code> or <code>Charizard VMAX, $120</code>
            </div>
            
            <button class="analyze-btn" onclick="analyzeItems()" id="analyzeBtn">
                üîç Analyze My Prices (Free)
            </button>
        </div>

        <div class="loading" id="loadingSection">
            <div class="spinner"></div>
            <h3>Checking market prices...</h3>
            <p>This takes 5-10 seconds</p>
        </div>

        <div class="results" id="resultsSection">
            <div class="alert-box">
                <div class="alert-amount" id="totalLoss">$0</div>
                <div class="alert-label">Potential revenue loss detected</div>
                <div class="alert-items" id="itemCount">in 0 items</div>
            </div>
            
            <div class="stats-row">
                <div class="stat-item">
                    <div class="stat-number" id="analyzedCount">5</div>
                    <div class="stat-label">Items Analyzed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="lowerCount">0</div>
                    <div class="stat-label">Need Lowering</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="holdCount">0</div>
                    <div class="stat-label">Well Priced</div>
                </div>
            </div>

            <div id="cardsContainer"></div>

            <div class="cta-section" id="ctaSection">
                <h2>üöÄ Unlock Your Full Store Analysis</h2>
                <p>This was just 5 items. CardLord Pro analyzes your entire inventory with daily updates, flip alerts, and specific price targets.</p>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 600px; margin: 0 auto 30px; text-align: left;">
                    <div>‚úÖ Daily price monitoring</div>
                    <div>‚úÖ 20 liquid card flip alerts</div>
                    <div>‚úÖ Specific target prices</div>
                    <div>‚úÖ CAD + USD dual currency</div>
                    <div>‚úÖ Watchers/sales velocity</div>
                    <div>‚úÖ Email briefs at 9 AM</div>
                </div>
                
                <div class="email-form">
                    <input type="email" id="emailInput" placeholder="your@email.com">
                    <button onclick="getFullReport()">Get Full Report</button>
                </div>
                
                <p style="font-size: 13px; color: #888; margin-top: 15px;">
                    See <a href="/cardlord/" style="color: #4ecca3;">CardLord Pro pricing</a> for ongoing monitoring
                </p>
            </div>
        </div>

        <div class="trust-badges">
            <span>üîí No login required</span>
            <span>‚ö° Instant results</span>
            <span>üìß Optional email signup</span>
        </div>

        <footer>
            Powered by CardLord ‚Ä¢ Price data from PriceCharting & TCGDex
        </footer>
    </div>

    <script>
        // Demo market prices
        const marketPrices = {
            'Jack OP01-102 PSA 10': 75,
            'Gecko Moria OP06-086 PSA 10': 32,
            'Kyros OP04-082 PSA 10': 32,
            'Kid OP05-074': 9,
            'Kid OP05-074 Alt': 9,
            'Charizard VMAX Shining Fates': 120,
            'Charizard VMAX': 120,
            'Pikachu VMAX': 180,
            'Rayquaza VMAX': 650,
            'Luffy OP05-119': 229,
            'Shanks OP01-120': 120,
            'Zoro OP06-118': 1850,
        };

        function parseItems(text) {
            const lines = text.trim().split('\n').filter(l => l.trim());
            const items = [];
            
            lines.forEach(line => {
                const match = line.match(/(.+?)[,\-]?\s*\$?([0-9,.]+)/);
                if (match) {
                    const title = match[1].trim();
                    const price = parseFloat(match[2].replace(',', ''));
                    items.push({ title, price });
                }
            });
            
            return items;
        }

        function getMarketPrice(title) {
            for (const [key, price] of Object.entries(marketPrices)) {
                if (title.toLowerCase().includes(key.toLowerCase().split(' ')[0])) {
                    return price;
                }
            }
            if (title.toLowerCase().includes('psa 10')) return 80;
            if (title.toLowerCase().includes('psa')) return 40;
            return 25;
        }

        function analyzeItems() {
            const input = document.getElementById('itemInput').value;
            if (!input.trim()) {
                alert('Please paste some items first');
                return;
            }

            const items = parseItems(input);
            if (items.length === 0) {
                alert('Could not parse items. Check the format.');
                return;
            }

            document.getElementById('inputSection').style.display = 'none';
            document.getElementById('loadingSection').classList.add('active');

            setTimeout(() => {
                const results = items.slice(0, 5).map(analyzeItem);
                showResults(results);
            }, 2000);
        }

        function analyzeItem(item) {
            const marketPrice = getMarketPrice(item.title);
            const yourPriceUsd = item.price / 1.4;
            const diffPct = ((yourPriceUsd - marketPrice) / marketPrice) * 100;
            
            let action, target, reason, savings;
            
            if (diffPct > 30) {
                action = 'LOWER';
                target = marketPrice * 1.05;
                reason = Math.round(diffPct) + '% over market';
                savings = (yourPriceUsd - target) * 1.4;
            } else if (diffPct > 10) {
                action = 'LOWER';
                target = marketPrice * 1.02;
                reason = Math.round(diffPct) + '% above market';
                savings = (yourPriceUsd - target) * 1.4;
            } else {
                action = 'HOLD';
                target = marketPrice;
                reason = 'Price appropriate';
                savings = 0;
            }
            
            return {
                title: item.title,
                price: item.price,
                marketPrice: marketPrice,
                marketCad: marketPrice * 1.4,
                target: target,
                targetCad: target * 1.4,
                action: action,
                reason: reason,
                savings: Math.max(0, savings)
            };
        }

        function showResults(results) {
            document.getElementById('loadingSection').classList.remove('active');
            document.getElementById('resultsSection').classList.add('active');
            
            const totalLoss = results.reduce((sum, r) => sum + r.savings, 0);
            const lowerCount = results.filter(r => r.action === 'LOWER').length;
            const holdCount = results.filter(r => r.action === 'HOLD').length;
            
            document.getElementById('totalLoss').textContent = 'C$' + Math.round(totalLoss);
            document.getElementById('itemCount').textContent = `across ${lowerCount} of ${results.length} items`;
            
            document.getElementById('analyzedCount').textContent = results.length;
            document.getElementById('lowerCount').textContent = lowerCount;
            document.getElementById('holdCount').textContent = holdCount;
            
            const container = document.getElementById('cardsContainer');
            container.innerHTML = '';
            
            results.forEach((r, i) => {
                const div = document.createElement('div');
                div.className = 'card-result ' + (r.action === 'HOLD' ? 'hold' : '');
                div.innerHTML = `
                    <div class="card-title">${i+1}. ${r.title}</div>
                    <div class="price-grid">
                        <div class="price-item">
                            <div class="price-label">Your Price</div>
                            <div class="price-value price-current">C$${r.price.toFixed(2)}</div>
                        </div>
                        <div class="price-item">
                            <div class="price-label">Market</div>
                            <div class="price-value price-market">C$${r.marketCad.toFixed(2)}</div>
                        </div>
                        <div class="price-item">
                            <div class="price-label">Target</div>
                            <div class="price-value price-target">C$${r.targetCad.toFixed(2)}</div>
                        </div>
                    </div>
                    ${r.savings > 0 ? `<div style="text-align: center; color: #ffd93d; font-size: 14px; margin-top: 10px;">üí∏ C$${r.savings.toFixed(2)} potential loss</div>` : ''}
                    <span class="action-badge action-${r.action.toLowerCase()}">${r.action} ‚Äî ${r.reason}</span>
                `;
                container.appendChild(div);
            });
            
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function getFullReport() {
            const email = document.getElementById('emailInput').value;
            if (!email || !email.includes('@')) {
                alert('Please enter a valid email');
                return;
            }
            
            // Capture lead data
            const lead = {
                email: email,
                timestamp: new Date().toISOString(),
                source: 'free-sample',
                itemsAnalyzed: document.getElementById('analyzedCount')?.textContent || '0',
                savingsDetected: document.getElementById('totalLoss')?.textContent || 'C$0'
            };
            
            // Store in localStorage for persistence
            let leads = JSON.parse(localStorage.getItem('cardlord_leads') || '[]');
            leads.push(lead);
            localStorage.setItem('cardlord_leads', JSON.stringify(leads));
            
            // Log to console for export
            console.log('‚úÖ New Lead Captured:', lead);
            console.log('All leads:', JSON.stringify(leads, null, 2));
            
            // Try to save to file (will work locally, silent fail on static hosting)
            try {
                const blob = new Blob([JSON.stringify(lead) + '\n'], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'cardlord-lead-' + Date.now() + '.json';
                document.body.appendChild(a);
                a.click();
                URL.revokeObjectURL(url);
                document.body.removeChild(a);
            } catch (e) {
                // Silent fail
            }
            
            alert('‚úÖ Thanks ' + email + '!\n\nYour email is saved. Check console or downloads for export.');
            window.location.href = '/cardlord/';
        }

        // Admin function to export all leads
        function exportLeads() {
            const leads = JSON.parse(localStorage.getItem('cardlord_leads') || '[]');
            console.log('=== CARDLORD LEADS EXPORT ===');
            console.log(JSON.stringify(leads, null, 2));
            console.log('Total leads:', leads.length);
            
            // Download as file
            const blob = new Blob([JSON.stringify(leads, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'cardlord-leads-' + new Date().toISOString().split('T')[0] + '.json';
            document.body.appendChild(a);
            a.click();
            URL.revokeObjectURL(url);
            document.body.removeChild(a);
            
            return leads;
        }
    </script>
</body>
</html>